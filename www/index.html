<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: https://ssl.gstatic.com https://tyradex.vercel.app 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content: https://raw.githubusercontent.com https://tyradex.vercel.app;">
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover, user-scalable=no">
        <meta name="color-scheme" content="light dark">
        <link rel="stylesheet" href="css/index.css">
        <title>Pok√©Quizz</title>
    </head>
    <body>
        <!-- Page d'accueil -->
        <div id="home-screen" class="screen active">
            <div class="container">
                <div class="logo-section">
                    <img src="img/logo.png" alt="Pok√©Quizz" class="logo">
                    <h1 class="app-title">Pok√©Quizz</h1>
                    <p class="app-subtitle">Testez vos connaissances Pok√©mon !</p>
                </div>
                
                <div class="menu-buttons">
                    <button id="start-quiz-btn" class="btn btn-primary">
                        üéÆ Commencer le Quiz
                    </button>
                    <button id="leaderboard-btn" class="btn btn-secondary">
                        üèÜ Classement
                    </button>
                </div>
                
                <div id="loading-indicator" class="loading hidden">
                    <div class="spinner"></div>
                    <p>Chargement...</p>
                </div>
            </div>
        </div>

        <!-- √âcran Quiz -->
        <div id="quiz-screen" class="screen">
            <div class="container">
                <!-- En-t√™te du quiz -->
                <div class="quiz-header">
                    <button id="back-to-home" class="btn btn-back">‚Üê Retour</button>
                    <div class="quiz-progress">
                        <span id="question-counter">Question 1/10</span>
                        <div class="progress-bar">
                            <div id="progress-fill" class="progress-fill"></div>
                        </div>
                    </div>
                    <div class="quiz-stats">
                        <span id="current-score">Score: 0</span>
                        <span id="timer">Temps: 0:00</span>
                    </div>
                </div>

                <!-- Question du quiz -->
                <div id="quiz-content" class="quiz-content">
                    <div class="pokemon-image-container">
                        <img id="pokemon-image" src="" alt="Pok√©mon myst√®re" class="pokemon-image">
                        <div id="image-loading" class="loading">
                            <div class="spinner"></div>
                            <p>Chargement du Pok√©mon...</p>
                        </div>
                    </div>
                    
                    <div class="question-section">
                        <h2>Quel est ce Pok√©mon ?</h2>
                        <div class="input-group">
                            <input type="text" id="pokemon-answer" placeholder="Tapez le nom du Pok√©mon..." autocomplete="off">
                            <button id="submit-answer" class="btn btn-primary">Valider</button>
                        </div>
                    </div>

                    <!-- Feedback de r√©ponse -->
                    <div id="answer-feedback" class="answer-feedback hidden">
                        <div id="feedback-content"></div>
                        <button id="next-question" class="btn btn-primary">Question suivante</button>
                    </div>
                </div>

                <!-- √âcran de fin de quiz -->
                <div id="quiz-results" class="quiz-results hidden">
                    <div class="results-content">
                        <h2>Quiz termin√© !</h2>
                        <div class="final-score">
                            <span id="final-score-text">Score: 0/10</span>
                            <span id="final-time-text">Temps: 0:00</span>
                            <span id="final-percentage">0%</span>
                        </div>
                        
                        <div class="congratulations">
                            <p id="congratulations-message">Bien jou√© !</p>
                        </div>

                        <div class="save-score-section">
                            <h3>Sauvegarder votre score</h3>
                            <input type="text" id="player-name" placeholder="Entrez votre nom..." maxlength="20">
                            <button id="save-score" class="btn btn-primary">Sauvegarder</button>
                        </div>

                        <div class="results-actions">
                            <button id="play-again" class="btn btn-secondary">Rejouer</button>
                            <button id="view-leaderboard" class="btn btn-primary">Voir le classement</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- √âcran Classement -->
        <div id="leaderboard-screen" class="screen">
            <div class="container">
                <div class="leaderboard-header">
                    <button id="back-to-home-leaderboard" class="btn btn-back">‚Üê Retour</button>
                    <h1>üèÜ Classement</h1>
                    <button id="refresh-leaderboard" class="btn btn-refresh">üîÑ</button>
                </div>

                <!-- Statistiques g√©n√©rales -->
                <div id="leaderboard-stats" class="stats-section">
                    <div class="stat-item">
                        <span class="stat-label">Parties jou√©es:</span>
                        <span id="total-games" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Meilleur score:</span>
                        <span id="best-score" class="stat-value">0/10</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Record de temps:</span>
                        <span id="best-time" class="stat-value">0:00</span>
                    </div>
                </div>

                <!-- Tableau des scores -->
                <div class="leaderboard-content">
                    <div id="leaderboard-empty" class="empty-state">
                        <p>üéØ Aucun score enregistr√©</p>
                        <p>Commencez votre premier quiz !</p>
                        <button id="start-first-quiz" class="btn btn-primary">Commencer un quiz</button>
                    </div>

                    <div id="leaderboard-table" class="leaderboard-table hidden">
                        <div class="table-header">
                            <span class="col-rank">Rang</span>
                            <span class="col-name">Nom</span>
                            <span class="col-score">Score</span>
                            <span class="col-time">Temps</span>
                            <span class="col-date">Date</span>
                        </div>
                        <div id="scores-list" class="scores-list">
                            <!-- Les scores seront ins√©r√©s ici dynamiquement -->
                        </div>
                    </div>
                </div>

                <div class="leaderboard-actions">
                    <button id="clear-scores" class="btn btn-danger">Effacer les scores</button>
                    <button id="new-quiz" class="btn btn-primary">Nouveau quiz</button>
                </div>
            </div>
        </div>

        <!-- Scripts -->
        <script src="cordova.js"></script>
        <script src="js/api.js"></script>
        <script src="js/storage.js"></script>
        <script src="js/quiz.js"></script>
        <script src="js/leaderboard.js"></script>
        <script src="js/ui-manager.js"></script>
        <script src="js/app.js"></script>
    </body>
</html>
